package Inventory;
 
/*
 * TabbedPaneDemo.java requires one additional file:
 *   images/middle.gif.
 */
 
import javax.swing.*;

import java.awt.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
 
public class InventorySystem extends JPanel {
    public InventorySystem() {
        super(new GridLayout(1, 1));
         
        JTabbedPane tabbedPane = new JTabbedPane();
         
        JComponent panel1 = makePanel();
        JComponent panel2 = makePanel();
        JComponent panel3 = makePanel();
        JComponent inventory = makeInventoryPanel();
        panel1.setPreferredSize(new Dimension(600, 600));

        tabbedPane.addTab("Overview", panel1);
        tabbedPane.addTab("Check out", panel2);
        tabbedPane.addTab("Check in", panel3);
        tabbedPane.addTab("Inventory", inventory);
        
        add(tabbedPane);
    }
    
//    this will change to 4 different functions creating inventory/in/out/overview
    protected JComponent makePanel() {
        JPanel panel = new JPanel(false);
        return panel;
    }
 
    protected JComponent makeInventoryPanel() {
      JPanel panel = new JPanel(false);
      panel.setLayout(new FlowLayout());
      JButton newItem = new JButton("Add Item +");
      newItem.addActionListener(new ActionListener()    {
        public void actionPerformed(ActionEvent e)
        {
          JFrame frame = new JFrame("System");
          frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
          frame.add(new NewItem());
          frame.pack();
          frame.setVisible(true);;
        }
      });
      
      JScrollPane listScroller = new JScrollPane();
      listScroller.setPreferredSize(new Dimension(250, 80));
      listScroller.setAlignmentX(LEFT_ALIGNMENT);

      JPanel listPane = new JPanel();
      listPane.setLayout(new BoxLayout(listPane, BoxLayout.PAGE_AXIS));
      JLabel label = new JLabel("asdf");
      listPane.add(label);
      listPane.add(Box.createRigidArea(new Dimension(0,5)));
      
      listScroller.add(new InventroyItemPanel(new InventoryItem("100","camera2", "out","something")));
      listScroller.add(new InventroyItemPanel(new InventoryItem("100","camera2", "out","something")));
      listPane.setBorder(BorderFactory.createEmptyBorder(10,10,10,10));
      listPane.add(listScroller);

//      try {
//        SQLInventoryItemRepo inventory = new SQLInventoryItemRepo();
////        inventory.insertNewItem(new InventoryItem("100","camera2", "out","something"));
//        List<InventoryItem> items = inventory.getAll();
//        
//        for (InventoryItem item : items) {
//          frame.add(new InventroyItemPanel(item));
//        }
//        
//      } catch (SQLException e) {
//        System.out.println("fail");
//      } catch (ItemException e){
//        System.out.println("item");
//      } finally {
//        frame.setVisible(true);
//      }
      panel.add(listPane);
      panel.add(newItem);

      return panel;
  }
    public static void main(String[] args) {
      JFrame frame = new JFrame("Inventory System");
      frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
      frame.add(new InventorySystem());
      frame.pack();
      frame.setVisible(true);
    }
}

